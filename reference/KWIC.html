<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Create a KWIC index — KWIC • PGRdup</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create a KWIC index — KWIC"><meta name="description" content="KWIC creates a Keyword in Context index from PGR passport database
fields."><meta property="og:description" content="KWIC creates a Keyword in Context index from PGR passport database
fields."><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-112827210-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-112827210-1');
</script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">PGRdup</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.4.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fa-home fa-lg"></span> Home</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html"><span class="fa fa-code"></span> Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/Introduction.html"><span class="fa far fa-file"></span> Introduction</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html"><span class="fa far fa-newspaper"></span> News</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/aravind-j/augmentedRCBD"><span class="fa fab fa-github-alt"></span> Github</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Create a KWIC index</h1>
      <small class="dont-index">Source: <a href="https://github.com/aravind-j/PGRdup/blob/master/R/KWIC.R" class="external-link"><code>R/KWIC.R</code></a></small>
      <div class="d-none name"><code>KWIC.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>KWIC</code> creates a Keyword in Context index from PGR passport database
fields.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">KWIC</span><span class="op">(</span><span class="va">x</span>, <span class="va">fields</span>, min.freq <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>A data frame from which KWIC index is to be generated.</p></dd>


<dt id="arg-fields">fields<a class="anchor" aria-label="anchor" href="#arg-fields"></a></dt>
<dd><p>A character vector with the names of fields(columns) of the
data frame from which KWIC index is to be generated. The first field is
considered as the primary key or identifier (see <strong>Details</strong>).</p></dd>


<dt id="arg-min-freq">min.freq<a class="anchor" aria-label="anchor" href="#arg-min-freq"></a></dt>
<dd><p>Frequency of keywords are not computed if below
<code>min.freq</code>. Default is 10.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list of class <code>KWIC</code> containing the following components:</p><table class="table table"><tr><td><code>KWIC</code></td><td>The KWIC index in the form of a data frame.</td></tr><tr><td><code>KeywordFreq</code></td><td>A data frame of the keywords detected with
  frequency greater than <code>min.freq</code>.</td></tr><tr><td><code>Fields</code></td><td>A character
  vector with the names of the PGR database fields from which the keywords
  were extracted.</td></tr></table></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function generates a Keyword in Context index from a data frame of a PGR
passport database based on the fields(columns) stated in the arguments, using
<code><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table</a></code> package.</p>
<p>The first element of vector <code>fields</code> is considered as the primary key or
identifier which uniquely identifies all rows in the data frame.</p>
<p>Cleaning of the data the input fields(columns) using the
<code><a href="DataClean.html">DataClean</a></code> function with appropriate arguments is
suggested before running this function.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Knüpffer, H. 1988. "The European Barley Database of the ECP/GR:
  An Introduction." <em>Die Kulturpflanze</em> 36 (1): 135-62.
  <a href="https://doi.org/10.1007/BF01986957" class="external-link">doi:10.1007/BF01986957</a>
.</p>
<p>Knüpffer, H., L. Frese, and M. W. M. Jongen. 1997. "Using Central Crop
  Databases: Searching for Duplicates and Gaps." In <em>Central Crop
  Databases: Tools for Plant Genetic Resources Management. Report of a
  Workshop, Budapest, Hungary, 13-16 October 1996</em>, edited by E. Lipman, M.
  W. M. Jongen, T. J. L. van Hintum, T. Gass, and L. Maggioni, 67-77. Rome,
  Italy and Wageningen, The Netherlands: International Plant Genetic
  Resources Institute and Centre for Genetic Resources.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table</a></code>,
  <code><a href="print.KWIC.html">print.KWIC</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Load PGR passport database</span></span></span>
<span class="r-in"><span><span class="va">GN</span> <span class="op">&lt;-</span> <span class="va">GN1000</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Specify as a vector the database fields to be used</span></span></span>
<span class="r-in"><span><span class="va">GNfields</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"NationalID"</span>, <span class="st">"CollNo"</span>, <span class="st">"DonorID"</span>, <span class="st">"OtherID1"</span>, <span class="st">"OtherID2"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Clean the data</span></span></span>
<span class="r-in"><span><span class="va">GN</span><span class="op">[</span><span class="va">GNfields</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">GN</span><span class="op">[</span><span class="va">GNfields</span><span class="op">]</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="DataClean.html">DataClean</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Generate KWIC index</span></span></span>
<span class="r-in"><span><span class="va">GNKWIC</span> <span class="op">&lt;-</span> <span class="fu">KWIC</span><span class="op">(</span><span class="va">GN</span>, <span class="va">GNfields</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">GNKWIC</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Retrieve the KWIC index from the KWIC object</span></span></span>
<span class="r-in"><span><span class="va">KWIC</span> <span class="op">&lt;-</span> <span class="va">GNKWIC</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Retrieve the keyword frequencies from the KWIC object</span></span></span>
<span class="r-in"><span><span class="va">KeywordFreq</span> <span class="op">&lt;-</span> <span class="va">GNKWIC</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Show error in case of duplicates and NULL values</span></span></span>
<span class="r-in"><span><span class="co"># in the primary key/ID field "NationalID"</span></span></span>
<span class="r-in"><span><span class="va">GN</span><span class="op">[</span><span class="fl">1001</span><span class="op">:</span><span class="fl">1005</span>,<span class="op">]</span> <span class="op">&lt;-</span> <span class="va">GN</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>,<span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">GN</span><span class="op">[</span><span class="fl">1001</span>,<span class="fl">3</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">""</span></span></span>
<span class="r-in"><span><span class="va">GNKWIC</span> <span class="op">&lt;-</span> <span class="fu">KWIC</span><span class="op">(</span><span class="va">GN</span>, <span class="va">GNfields</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by J. Aravind, J. Radhamani, Kalyani Srinivasan, B. Ananda Subhash, Rishi Kumar Tyagi.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

